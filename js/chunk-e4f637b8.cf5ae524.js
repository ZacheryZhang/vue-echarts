(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4f637b8"],{"0ab8":function(t,e,r){"use strict";var s=r("c1dd"),i=r("d47f");t.exports=function(t,e){s(e)&&"cause"in e&&i(t,"cause",e.cause)}},"14d1":function(t,e,r){"use strict";r("5b92")},1942:function(t,e,r){"use strict";var s=r("c1dd");t.exports=function(t){return s(t)||null===t}},2871:function(t,e,r){"use strict";var s=r("9628"),i=Error,n=s("".replace),a=function(t){return String(new i(t).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=n(t,o,"");return t}},"2a2b":function(t,e,r){"use strict";var s=r("7169"),i=r("7e80"),n=r("bbdd"),a=r("242f"),o=a("toStringTag"),c=Object,l="Arguments"===n(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(r){}};t.exports=s?n:function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(e=c(t),o))?r:l?n(e):"Object"===(s=n(e))&&i(e.callee)?"Arguments":s}},"36d0":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("el-dialog",{staticClass:"class_dialog_hospital",attrs:{title:"无接触测量中...",visible:t.modal,"close-on-click-modal":!1},on:{open:function(e){return t.show()},"update:visible":function(e){t.modal=e}}},[e("div",{staticClass:"video-container"},[e("video",{ref:"videoElement",attrs:{autoplay:""}})])]),e("svg",{staticClass:"guideLine",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 783 500"}},[e("image",{attrs:{x:"5%",y:"20","xlink:href":t.$images.center,width:"90%",height:"100%"}}),t.status?e("image",{attrs:{id:"textBox_1",x:"220",y:"110","xlink:href":t.$images.sensitive_bg,width:"300",height:"170"}}):e("image",{style:{opacity:t.number},attrs:{x:"250",y:"320","xlink:href":t.$images.normal_bg,width:"250",height:"170"}}),t._l(t.swiperData,(function(r,s){return e("g",{key:r.title,on:{click:function(e){return t.selectBegin(r.title)}}},[e("image",{staticClass:"bg_img",attrs:{x:r.image.x,y:r.image.y,"xlink:href":r.status?t.$images.sensitive_title:t.$images.normal_title,width:"130",height:"50"}}),e("foreignObject",{staticClass:"title_1",attrs:{x:r.pos.x,y:r.pos.y,id:"title_"+(s+1),width:"100",height:"40"},on:{mouseenter:t.onmouseenter,mouseleave:t.onmouseleave}},[e("div",{staticClass:"title-text-box",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[e("p",{style:{color:r.status?"#FFDBDB":""}},[e("span",{staticClass:"titleText"},[t._v(t._s(r.title))]),e("Rate",{attrs:{"show-text":!1,disabled:""},model:{value:r.rate,callback:function(e){t.$set(r,"rate",e)},expression:"item.rate"}})],1)])]),e("foreignObject",{ref:"textBox",refInFor:!0,staticClass:"text",attrs:{x:"250",y:"320",width:"250",height:"170"}},[e("div",{staticClass:"text-box",attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[e("div",{staticClass:"promptBox"},[e("div",{staticClass:"promptTitle"},[t._v(t._s(r.title))]),e("div",{staticClass:"psychologyContent"},[t._v(" "+t._s(r.descript)+" ")])])])]),e("path",{class:r.path.className,attrs:{id:"line_"+(s+1),d:r.path.d,stroke:"#AFE5FB","stroke-width":"2",fill:"none"}})])}))],2)],1)},i=[],n=(r("fdf1"),r("9805"),{name:"",props:{selectRangeDate:Array,_width:Number},mounted(){this.setChart()},data(){return{mediaRecorder:null,mediaStream:null,recordedChunks:[],recording:!1,timer1:null,modal:!1,status:!1,timer:null,rid:null,index:0,number:0,length:0,frames:0,isIE:!1,swiperData:[{image:{x:85,y:354},status:!1,rate:0,title:"心率",descript:"心率是心脏每分钟跳动的次数，反映心脏功能和体能状态。正常成年人的静息心率一般在60-100次/分钟之间。",pos:{x:102,y:364},path:{d:"M150,402 L150,432 250,432",className:"swap1"}},{image:{x:58,y:224},status:!1,rate:0,title:"血压",descript:"血压由收缩压（高压）和舒张压（低压）组成，反映血液在动脉中的压力。正常血压范围一般为120/80 mmHg。",pos:{x:76,y:232},path:{d:"M125,272 L125,337 250,337",className:"swap2"}},{image:{x:87,y:110},status:!1,rate:0,title:"血氧饱和度",descript:"血氧饱和度是血液中氧气的含量，正常值在95%-100%之间。低于90%可能表示低氧血症。",pos:{x:105,y:118},path:{d:"M207,135 L260,135 260,322",className:"swap3"}},{image:{x:310,y:40},status:!1,rate:0,title:"血糖",descript:"血糖水平反映体内葡萄糖的浓度，正常空腹血糖范围为70-99 mg/dL（3.9-5.5 mmol/L）。",pos:{x:328,y:49},path:{d:"M319,66 L279,66 279,321",className:"swap4"}},{image:{x:522,y:110},status:!1,rate:0,title:"心率变异性",descript:"心率变异性反映自主神经系统的活动，较高通常表示更好的健康状态和更好的适应能力。",pos:{x:538,y:118},path:{d:"M538,135 L485,135 485,322",className:"swap3"}},{image:{x:560,y:224},status:!1,rate:0,title:"心电图",descript:"心电图反映心脏的电生理活动，用于检测心律不齐、心肌梗塞等心脏问题。",pos:{x:578,y:230},path:{d:"M625,272 L625,337 500,337",className:"swap2"}},{image:{x:538,y:354},status:!1,rate:0,title:"呼吸频率",descript:"呼吸频率是每分钟的呼吸次数，正常成人的呼吸频率为12-20次/分钟。",pos:{x:555,y:364},path:{d:"M600,402 L600,432 500,432",className:"swap1"}}],psychologicalRate:0,speechRate:0,internetPreferenceRate:0,riskRate:0,makeFriendRate:0,entertainmentPreferenceRate:0,consumptionCharacteristicsRate:0,psychologicalStatus:!1,speechStatus:!1,internetPreferenceStatus:!1,riskStatus:!1,entertainmentPreferenceStatus:!1,makeFriendStatus:!1,consumptionCharacteristicsStatus:!1}},methods:{stopRecordingAfterTime(){setTimeout(()=>{this.stopRecording()},1e4)},show(){setTimeout(()=>{this.videoElement=this.$refs.videoElement},0)},selectBegin(t){"心率"!=t||this.recording||(this.startRecording(),this.modal=!0,this.stopRecordingAfterTime())},startRecording(){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(t=>{this.mediaStream=t,this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&this.recordedChunks.push(t.data)},this.mediaRecorder.start(),this.recording=!0,this.videoElement.srcObject=t}).catch(t=>{console.error("无法启动录制:",t)})},stopRecording(){this.mediaRecorder&&"recording"===this.mediaRecorder.state&&(this.mediaRecorder.stop(),this.recording=!1,this.mediaStream.getTracks().forEach(t=>t.stop()),this.processRecordedData(),this.modal=!1)},processRecordedData(){if(this.recordedChunks.length>0){const t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e=new Blob(this.recordedChunks,{type:"video/webm"}),r=new FormData;r.append("video",e,"recordedVideo.webm"),fetch("http://8.130.9.54:5000/uploadVideo",{method:"POST",body:r}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(e=>{console.log("视频上传成功"),t.close(),console.log(e),this.$message({message:"测量成功，本次心率为"+e.hr,type:"success",duration:6e3})}).catch(e=>{console.error("视频上传失败",e),t.close()}),this.recordedChunks=[]}},onmouseenter(t){document.querySelectorAll(".text").forEach(t=>t.style.opacity=0),document.querySelectorAll(".swap1").forEach(t=>t.style.strokeDashoffset=130),document.querySelectorAll(".swap2").forEach(t=>t.style.strokeDashoffset=190),document.querySelectorAll(".swap3").forEach(t=>t.style.strokeDashoffset=240),document.querySelectorAll(".swap4").forEach(t=>t.style.strokeDashoffset=295),cancelAnimationFrame(this.rid),this.rid=null,clearTimeout(this.timer),this.timer=null,this.animation(Number(t.currentTarget.id.substr(t.currentTarget.id.length-1,1)),!0)},onmouseleave(){this.animation(1,!1)},frame(){cancelAnimationFrame(this.rid),this.rid=null,this.rid=requestAnimationFrame(this.frame);let t=document.querySelector("#line_"+this.index);if(t.style.strokeDashoffset=this.frames,t.getPointAtLength(this.length-this.frames),t.getPointAtLength((this.length-this.frames+2)%this.length),this.index>1&&(t=document.querySelector("#line_"+(this.index-1)),this.$refs.textBox[this.index-2].style.opacity=0,t.style.strokeDashoffset=t.style.strokeDasharray),1===this.index)for(let e=2;e<8;e++)t=document.querySelector("#line_"+e),this.$refs.textBox[e-1].style.opacity=0,t.style.strokeDashoffset=t.style.strokeDasharray;this.$refs.textBox[this.index-1].style.opacity=this.number,this.number+=5/this.length,this.frames-=5,this.frames<=-5&&(cancelAnimationFrame(this.rid),this.rid=null)},animation(t,e){clearTimeout(this.timer),cancelAnimationFrame(this.rid),this.rid=null,this.timer=null,t>7&&(t=1),this.swiperData.forEach(t=>t.status=!1),this.swiperData[t-1].status=!0;const r=document.querySelector("#line_"+t);this.length=r.getTotalLength(),r.style.strokeDasharray=this.length,r.style.strokeDashoffset=this.length,this.frames=this.length,this.index=t,this.number=0,this.frame(),e||(clearTimeout(this.timer),this.timer=null,this.timer=setTimeout(()=>{this.animation(t+1,e)},5e3))},setChart(){clearTimeout(this.timer1),clearTimeout(this.timer),cancelAnimationFrame(this.rid),this.frames=0,this.rid=null,this.timer=null,this.timer1=null,this.timer1=setTimeout(()=>{this.animation(1,!1)},5e3)}},watch:{selectRangeDate:function(){this.setChart()}},created(){window.SVGForeignObjectElement||(this.isIE=!0)},beforeDestroy(){document.querySelectorAll(".text").forEach(t=>t.style.opacity=0),document.querySelectorAll(".swap1").forEach(t=>t.style.strokeDashoffset=130),document.querySelectorAll(".swap2").forEach(t=>t.style.strokeDashoffset=190),document.querySelectorAll(".swap3").forEach(t=>t.style.strokeDashoffset=240),document.querySelectorAll(".swap4").forEach(t=>t.style.strokeDashoffset=295),cancelAnimationFrame(this.rid),this.rid=null,clearTimeout(this.timer),clearTimeout(this.timer1),this.timer=null,this.timer1=null,this.swiperData.forEach(t=>t.status=!1)}}),a=n,o=(r("14d1"),r("1805")),c=Object(o["a"])(a,s,i,!1,null,"4bf732b8",null);e["default"]=c.exports},"38e2":function(t,e,r){"use strict";var s=r("47c4");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:s(t)}},"3bce":function(t,e,r){"use strict";var s=r("593c").f;t.exports=function(t,e,r){r in t||s(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},4069:function(t,e,r){"use strict";var s=r("1942"),i=String,n=TypeError;t.exports=function(t){if(s(t))return t;throw new n("Can't set "+i(t)+" as a prototype")}},"47c4":function(t,e,r){"use strict";var s=r("2a2b"),i=String;t.exports=function(t){if("Symbol"===s(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},"4ce2":function(t,e,r){"use strict";var s=r("d47f"),i=r("2871"),n=r("97f4"),a=Error.captureStackTrace;t.exports=function(t,e,r,o){n&&(a?a(t,e):s(t,"stack",i(r,o)))}},"5b92":function(t,e,r){},"64a7":function(t,e,r){"use strict";var s=r("a2a5"),i=Function.prototype,n=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(s?a.bind(n):function(){return a.apply(n,arguments)})},7169:function(t,e,r){"use strict";var s=r("242f"),i=s("toStringTag"),n={};n[i]="z",t.exports="[object z]"===String(n)},"7b63f":function(t,e,r){"use strict";var s=r("9628"),i=r("da4f");t.exports=function(t,e,r){try{return s(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(n){}}},"7d4c":function(t,e,r){"use strict";var s=r("5c51"),i=r("fb0f"),n=r("d47f"),a=r("ce78"),o=r("a601"),c=r("0138"),l=r("3bce"),u=r("ea54"),h=r("38e2"),d=r("0ab8"),f=r("4ce2"),m=r("668d"),p=r("7b4c");t.exports=function(t,e,r,g){var y="stackTraceLimit",x=g?2:1,w=t.split("."),v=w[w.length-1],b=s.apply(null,w);if(b){var k=b.prototype;if(!p&&i(k,"cause")&&delete k.cause,!r)return b;var E=s("Error"),S=e((function(t,e){var r=h(g?e:t,void 0),s=g?new b(t):new b;return void 0!==r&&n(s,"message",r),f(s,S,s.stack,2),this&&a(k,this)&&u(s,this,S),arguments.length>x&&d(s,arguments[x]),s}));if(S.prototype=k,"Error"!==v?o?o(S,E):c(S,E,{name:!0}):m&&y in b&&(l(S,b,y),l(S,b,"prepareStackTrace")),c(S,b),!p)try{k.name!==v&&n(k,"name",v),k.constructor=S}catch(_){}return S}}},"97f4":function(t,e,r){"use strict";var s=r("7ec2"),i=r("48ce");t.exports=!s((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},a601:function(t,e,r){"use strict";var s=r("7b63f"),i=r("c1dd"),n=r("30dc"),a=r("4069");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=s(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(o){}return function(r,s){return n(r),a(s),i(r)?(e?t(r,s):r.__proto__=s,r):r}}():void 0)},ea54:function(t,e,r){"use strict";var s=r("7e80"),i=r("c1dd"),n=r("a601");t.exports=function(t,e,r){var a,o;return n&&s(a=e.constructor)&&a!==r&&i(o=a.prototype)&&o!==r.prototype&&n(t,o),t}},fdf1:function(t,e,r){"use strict";var s=r("db7b"),i=r("e8b1"),n=r("64a7"),a=r("7d4c"),o="WebAssembly",c=i[o],l=7!==new Error("e",{cause:7}).cause,u=function(t,e){var r={};r[t]=a(t,e,l),s({global:!0,constructor:!0,arity:1,forced:l},r)},h=function(t,e){if(c&&c[t]){var r={};r[t]=a(o+"."+t,e,l),s({target:o,stat:!0,constructor:!0,arity:1,forced:l},r)}};u("Error",(function(t){return function(e){return n(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return n(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return n(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return n(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return n(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return n(t,this,arguments)}})),u("URIError",(function(t){return function(e){return n(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return n(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return n(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return n(t,this,arguments)}}))}}]);
//# sourceMappingURL=chunk-e4f637b8.cf5ae524.js.map