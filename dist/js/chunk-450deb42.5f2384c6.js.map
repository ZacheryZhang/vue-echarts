{"version":3,"sources":["webpack:///./src/views/components/page1/center.vue?b195","webpack:///./src/views/components/page1/center.vue","webpack:///src/views/components/page1/center.vue","webpack:///./src/views/components/page1/center.vue?2289","webpack:///./src/views/components/page1/center.vue?b2c9"],"names":["render","_vm","this","_c","_self","staticClass","attrs","$images","center","status","sensitive_bg","style","opacity","number","normal_bg","model","value","modal","callback","$$v","expression","ref","_l","swiperData","item","index","key","title","on","$event","selectBegin","image","x","y","sensitive_title","normal_title","pos","onmouseenter","onmouseleave","color","_v","_s","rate","$set","refInFor","descript","class","path","className","d","staticRenderFns","name","props","selectRangeDate","Array","_width","Number","components","Modal","data","mediaRecorder","mediaStream","recordedChunks","recording","timer1","timer","rid","length","frames","isIE","psychologicalRate","speechRate","internetPreferenceRate","riskRate","makeFriendRate","entertainmentPreferenceRate","consumptionCharacteristicsRate","psychologicalStatus","speechStatus","internetPreferenceStatus","riskStatus","entertainmentPreferenceStatus","makeFriendStatus","consumptionCharacteristicsStatus","methods","stopRecordingAfterTime","setTimeout","stopRecording","startRecording","navigator","mediaDevices","getUserMedia","audio","video","then","stream","MediaRecorder","ondataavailable","event","size","push","start","videoElement","srcObject","catch","error","console","state","stop","getTracks","forEach","track","processRecordedData","recordedBlob","Blob","type","log","e","document","querySelectorAll","strokeDashoffset","cancelAnimationFrame","clearTimeout","animation","currentTarget","id","substr","frame","requestAnimationFrame","line","querySelector","getPointAtLength","$refs","textBox","strokeDasharray","i","boolean","getTotalLength","setChart","watch","created","window","SVGForeignObjectElement","beforeDestroy","mounted","component"],"mappings":"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","file":"js/chunk-450deb42.5f2384c6.js","sourcesContent":["export * from \"-!../../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/.store/less-loader@5.0.0/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./center.vue?vue&type=style&index=0&id=7471b970&prod&lang=less&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('svg',{staticClass:\"guideLine\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":\"0 0 783 500\"}},[_c('image',{attrs:{\"x\":\"5%\",\"y\":\"20\",\"xlink:href\":_vm.$images.center,\"width\":\"90%\",\"height\":\"100%\"}}),(!_vm.status)?_c('image',{style:({opacity: _vm.number}),attrs:{\"x\":\"250\",\"y\":\"320\",\"xlink:href\":_vm.$images.normal_bg,\"width\":\"250\",\"height\":\"170\"}}):_c('image',{attrs:{\"id\":\"textBox_1\",\"x\":\"220\",\"y\":\"110\",\"xlink:href\":_vm.$images.sensitive_bg,\"width\":\"300\",\"height\":\"170\"}}),_c('Modal',{attrs:{\"title\":\"Video Recording\"},model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('video',{ref:\"videoElement\",attrs:{\"autoplay\":\"\"}})]),_vm._l((_vm.swiperData),function(item,index){return _c('g',{key:item.title,on:{\"click\":function($event){return _vm.selectBegin(item.title)}}},[_c('image',{staticClass:\"bg_img\",attrs:{\"x\":item.image.x,\"y\":item.image.y,\"xlink:href\":item.status?_vm.$images.sensitive_title:_vm.$images.normal_title,\"width\":\"130\",\"height\":\"50\"}}),_c('foreignObject',{staticClass:\"title_1\",attrs:{\"x\":item.pos.x,\"y\":item.pos.y,\"id\":'title_'+ (index + 1),\"width\":\"100\",\"height\":\"40\"},on:{\"mouseenter\":_vm.onmouseenter,\"mouseleave\":_vm.onmouseleave}},[_c('div',{staticClass:\"title-text-box\",attrs:{\"xmlns\":\"http://www.w3.org/1999/xhtml\"}},[_c('p',{style:({color:item.status?'#FFDBDB':''})},[_c('span',{staticClass:\"titleText\"},[_vm._v(_vm._s(item.title))]),_c('Rate',{attrs:{\"show-text\":false,\"disabled\":\"\"},model:{value:(item.rate),callback:function ($$v) {_vm.$set(item, \"rate\", $$v)},expression:\"item.rate\"}})],1)])]),_c('foreignObject',{ref:\"textBox\",refInFor:true,staticClass:\"text\",attrs:{\"x\":\"250\",\"y\":\"320\",\"width\":\"250\",\"height\":\"170\"}},[_c('div',{staticClass:\"text-box\",attrs:{\"xmlns\":\"http://www.w3.org/1999/xhtml\"}},[_c('div',{staticClass:\"promptBox\"},[_c('div',{staticClass:\"promptTitle\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"psychologyContent\"},[_vm._v(\" \"+_vm._s(item.descript)+\" \")])])])]),_c('path',{class:item.path.className,attrs:{\"id\":'line_'+ (index + 1),\"d\":item.path.d,\"stroke\":\"#AFE5FB\",\"stroke-width\":\"2\",\"fill\":\"none\"}})])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"main\">\r\n\r\n        <svg class=\"guideLine\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 783 500\">\r\n            <image x=\"5%\" y=\"20\" :xlink:href=\"$images.center\" width=\"90%\" height=\"100%\"/>\r\n            <image v-if='!status' x=\"250\" y=\"320\" :style=\"{opacity: number}\" :xlink:href=\"$images.normal_bg\" width=\"250\"\r\n                   height=\"170\"/>\r\n            <image v-else id=\"textBox_1\" x=\"220\" y=\"110\" :xlink:href=\"$images.sensitive_bg\" width=\"300\" height=\"170\"/>\r\n            <Modal v-model=\"modal\" title=\"Video Recording\">\r\n                <video ref=\"videoElement\" autoplay></video>\r\n            </Modal>\r\n\r\n            <template>\r\n                <g v-for=\"(item, index) in swiperData\" :key=\"item.title\" v-on:click=\"selectBegin(item.title)\">\r\n                    <image class=\"bg_img\" :x=\"item.image.x\" :y=\"item.image.y\"\r\n                           :xlink:href=\"item.status?$images.sensitive_title:$images.normal_title\" width=\"130\"\r\n                           height=\"50\"/>\r\n                    <foreignObject class=\"title_1\" @mouseenter=\"onmouseenter\" @mouseleave=\"onmouseleave\" :x=\"item.pos.x\" :y=\"item.pos.y\" :id=\"'title_'+ (index + 1)\" width=\"100\" height=\"40\" >\r\n                        <div class=\"title-text-box\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n                            <p :style=\"{color:item.status?'#FFDBDB':''}\">\r\n                                <span class=\"titleText\">{{ item.title }}</span>\r\n                                <Rate :show-text=\"false\" disabled v-model=\"item.rate\"></Rate>\r\n                            </p>\r\n                        </div>\r\n                    </foreignObject>\r\n                    <foreignObject class=\"text\" x=\"250\" y=\"320\" ref=\"textBox\" width=\"250\" height=\"170\" >\r\n                        <div class=\"text-box\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n                            <div class=\"promptBox\">\r\n                                <div class=\"promptTitle\">{{item.title}}</div>\r\n                                <div class=\"psychologyContent\">\r\n                                  {{ item.descript }}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </foreignObject>\r\n                    <path :id=\"'line_'+ (index + 1)\" :class='item.path.className' :d=\"item.path.d\" stroke=\"#AFE5FB\" stroke-width=\"2\"\r\n                          fill=\"none\"/>\r\n                </g>\r\n            </template>\r\n        </svg>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Modal } from 'iview';\r\nexport default {\r\n    name: '',\r\n    props: {\r\n        selectRangeDate: Array,\r\n        _width: Number\r\n    },\r\n    components:{Modal},\r\n    data() {\r\n        return {\r\n            mediaRecorder: null,\r\n            mediaStream: null,\r\n            recordedChunks: [],\r\n            recording: false,\r\n            timer1: null,\r\n            modal:false,\r\n            status: false,\r\n            timer: null,\r\n            rid: null,\r\n            index: 0,\r\n            number: 0,\r\n            length: 0,\r\n            frames: 0,\r\n            isIE: false,\r\n            swiperData: [\r\n                {\r\n                    image: {\r\n                        x: 85,\r\n                        y: 354\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '心率',\r\n                    descript: '心率是心脏每分钟跳动的次数，反映心脏功能和体能状态。正常成年人的静息心率一般在60-100次/分钟之间。',\r\n                    pos: {\r\n                      x: 102,\r\n                      y:364\r\n                    },\r\n                    path: {\r\n                        d: 'M150,402 L150,432 250,432',\r\n                        className: 'swap1'\r\n                    }\r\n                },\r\n                {\r\n                    image: {\r\n                        x: 58,\r\n                        y: 224\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '血压',\r\n                    descript: '血压由收缩压（高压）和舒张压（低压）组成，反映血液在动脉中的压力。正常血压范围一般为120/80 mmHg。',\r\n                    pos: {\r\n                      x: 76,\r\n                      y:232\r\n                    },\r\n                    path: {\r\n                        d: 'M125,272 L125,337 250,337',\r\n                        className: 'swap2'\r\n                    }\r\n                },\r\n                {\r\n                    image: {\r\n                        x: 87,\r\n                        y: 110\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '血氧饱和度',\r\n                    descript: '血氧饱和度是血液中氧气的含量，正常值在95%-100%之间。低于90%可能表示低氧血症。',\r\n                    pos: {\r\n                        x: 105,\r\n                        y:118\r\n                    },\r\n                    path: {\r\n                        d: 'M207,135 L260,135 260,322',\r\n                        className: 'swap3'\r\n                    }\r\n                },\r\n                {\r\n                    image: {\r\n                        x: 310,\r\n                        y: 40\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '血糖',\r\n                    descript: '血糖水平反映体内葡萄糖的浓度，正常空腹血糖范围为70-99 mg/dL（3.9-5.5 mmol/L）。',\r\n                    pos: {\r\n                      x: 328,\r\n                      y: 49\r\n                    },\r\n                    path: {\r\n                        d: 'M319,66 L279,66 279,321',\r\n                        className: 'swap4'\r\n                    }\r\n                },\r\n                {\r\n                    image: {\r\n                        x: 522,\r\n                        y: 110\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '心率变异性',\r\n                    descript: '心率变异性反映自主神经系统的活动，较高通常表示更好的健康状态和更好的适应能力。',\r\n                    pos: {\r\n                        x: 538,\r\n                        y: 118\r\n                    },\r\n                    path: {\r\n                        d: 'M538,135 L485,135 485,322',\r\n                        className: 'swap3'\r\n                    }\r\n                },\r\n                {\r\n                    image: {\r\n                        x: 560,\r\n                        y: 224\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '心电图',\r\n                    descript: '心电图反映心脏的电生理活动，用于检测心律不齐、心肌梗塞等心脏问题。',\r\n                    pos: {\r\n                        x: 578,\r\n                        y: 230\r\n                    },\r\n                    path: {\r\n                        d: 'M625,272 L625,337 500,337',\r\n                        className: 'swap2'\r\n                    }\r\n                },\r\n                {\r\n                    image: {\r\n                        x: 538,\r\n                        y: 354\r\n                    },\r\n                    status: false,\r\n                    rate:0,\r\n                    title: '呼吸频率',\r\n                    descript: '呼吸频率是每分钟的呼吸次数，正常成人的呼吸频率为12-20次/分钟。',\r\n                    pos: {\r\n                        x: 555,\r\n                        y: 364\r\n                    },\r\n                    path: {\r\n                        d: 'M600,402 L600,432 500,432',\r\n                        className: 'swap1'\r\n                    }\r\n                }\r\n            ],\r\n            psychologicalRate: 0,\r\n            speechRate: 0,\r\n            internetPreferenceRate: 0,\r\n            riskRate: 0,\r\n            makeFriendRate: 0,\r\n            entertainmentPreferenceRate: 0,\r\n            consumptionCharacteristicsRate: 0,\r\n            psychologicalStatus: false,\r\n            speechStatus: false,\r\n            internetPreferenceStatus: false,\r\n            riskStatus: false,\r\n            entertainmentPreferenceStatus: false,\r\n            makeFriendStatus: false,\r\n            consumptionCharacteristicsStatus: false,\r\n        }\r\n    },\r\n    methods: {\r\n        stopRecordingAfterTime() {\r\n            setTimeout(() => {\r\n                this.stopRecording();\r\n            }, 10000); // 10 seconds\r\n        },\r\n        selectBegin(name){\r\n          if (name=='心率' && !this.recording){\r\n            this.startRecording();\r\n            this.modal=true;\r\n            this.stopRecordingAfterTime();\r\n\r\n          }\r\n        },\r\n        startRecording() {\r\n          this.modal=true\r\n          navigator.mediaDevices\r\n            .getUserMedia({ audio: true, video: true })\r\n            .then(stream => {\r\n              this.mediaStream = stream;\r\n              this.mediaRecorder = new MediaRecorder(stream);\r\n\r\n              // 设置录制事件监听器\r\n              this.mediaRecorder.ondataavailable = event => {\r\n                if (event.data.size > 0) {\r\n                  this.recordedChunks.push(event.data);\r\n                }\r\n\r\n              };\r\n\r\n              this.mediaRecorder.start();\r\n              this.recording = true;\r\n\r\n              // 将媒体流与视频元素关联以实时预览录制内容\r\n              this.videoElement.srcObject = stream;\r\n            })\r\n            .catch(error => {\r\n              console.error('无法启动录制:', error);\r\n            });\r\n        },\r\n\r\n        stopRecording() {\r\n          if (this.mediaRecorder && this.mediaRecorder.state === 'recording') {\r\n            this.mediaRecorder.stop();\r\n            this.recording = false;\r\n\r\n            // 停止并释放媒体流\r\n            this.mediaStream.getTracks().forEach(track => track.stop());\r\n\r\n            // 处理或保存录制的数据\r\n            this.processRecordedData();\r\n            this.modal = false;\r\n          }\r\n        },\r\n        processRecordedData() {\r\n          if (this.recordedChunks.length > 0) {\r\n            const recordedBlob = new Blob(this.recordedChunks, { type: 'video/webm' });\r\n\r\n            // 处理或保存录制的 Blob 数据\r\n            console.log('录制完成，数据处理或保存:', recordedBlob);\r\n\r\n            // 清空录制的数据\r\n            this.recordedChunks = [];\r\n          }\r\n        },\r\n        // mouseenter\r\n        onmouseenter(e) {\r\n            document.querySelectorAll('.text').forEach(item=>item.style.opacity = 0);\r\n            document.querySelectorAll('.swap1').forEach(item=>item.style.strokeDashoffset = 130);\r\n            document.querySelectorAll('.swap2').forEach(item=>item.style.strokeDashoffset = 190);\r\n            document.querySelectorAll('.swap3').forEach(item=>item.style.strokeDashoffset = 240);\r\n            document.querySelectorAll('.swap4').forEach(item=>item.style.strokeDashoffset = 295);\r\n            cancelAnimationFrame(this.rid);\r\n            this.rid = null;\r\n            clearTimeout(this.timer)\r\n            this.timer = null;\r\n            this.animation(Number(e.currentTarget.id.substr(e.currentTarget.id.length - 1, 1)), true);\r\n        },\r\n        //mouseleave\r\n        onmouseleave() {\r\n            this.animation(1, false);\r\n        },\r\n        frame() {\r\n            cancelAnimationFrame(this.rid);\r\n            this.rid = null;\r\n            this.rid = requestAnimationFrame(this.frame);\r\n            let line = document.querySelector(\"#line_\" + this.index);\r\n            line.style.strokeDashoffset = this.frames;\r\n            line.getPointAtLength(this.length - this.frames);\r\n            line.getPointAtLength((this.length - this.frames + 2) % this.length);\r\n            if (this.index > 1) {\r\n                line = document.querySelector(\"#line_\" + (this.index - 1));\r\n                this.$refs.textBox[this.index - 2].style.opacity = 0;\r\n                line.style.strokeDashoffset = line.style.strokeDasharray;\r\n            }\r\n            if (this.index === 1) {\r\n                for (let i = 2; i < 8; i++) {\r\n                    line = document.querySelector(\"#line_\" + i);\r\n                    this.$refs.textBox[i - 1].style.opacity = 0;\r\n                    line.style.strokeDashoffset = line.style.strokeDasharray;\r\n                }\r\n            }\r\n            this.$refs.textBox[this.index - 1].style.opacity = this.number;\r\n            this.number += 5 / this.length;\r\n            this.frames -= 5;\r\n            if (this.frames <= -5) {\r\n                cancelAnimationFrame(this.rid);\r\n                this.rid = null;\r\n            }\r\n        },\r\n        animation(i, boolean) {\r\n            clearTimeout(this.timer);\r\n            cancelAnimationFrame(this.rid);\r\n            this.rid = null;\r\n            this.timer = null;\r\n            if (i > 7) {\r\n                i = 1;\r\n            }\r\n            this.swiperData.forEach(item=>item.status = false);\r\n            this.swiperData[i-1].status = true;\r\n            const line = document.querySelector(\"#line_\" + i);\r\n            this.length = line.getTotalLength();\r\n            line.style.strokeDasharray = this.length;\r\n            line.style.strokeDashoffset = this.length;\r\n            this.frames = this.length;\r\n            this.index = i;\r\n            this.number = 0;\r\n            this.frame();\r\n            if (!boolean) {\r\n                clearTimeout(this.timer);\r\n                this.timer = null;\r\n                this.timer = setTimeout(() => {\r\n                    this.animation(i + 1, boolean);\r\n                }, 5000);\r\n            }\r\n        },\r\n        // 中心图\r\n        setChart() {\r\n            clearTimeout(this.timer1);\r\n            clearTimeout(this.timer);\r\n            cancelAnimationFrame(this.rid);\r\n            this.frames = 0;\r\n            this.rid = null;\r\n            this.timer = null;\r\n            this.timer1 = null\r\n            this.timer1 = setTimeout(() => {\r\n                this.animation(1, false);\r\n            }, 5000);\r\n\r\n        }\r\n    },\r\n    watch: {\r\n        selectRangeDate: function () {\r\n            this.setChart()\r\n        }\r\n    },\r\n    created() {\r\n        if (!window.SVGForeignObjectElement) {\r\n            this.isIE = true;\r\n        }\r\n    },\r\n    beforeDestroy() { // 离开页面动画初始化\r\n        document.querySelectorAll('.text').forEach(item=>item.style.opacity = 0);\r\n        document.querySelectorAll('.swap1').forEach(item=>item.style.strokeDashoffset = 130);\r\n        document.querySelectorAll('.swap2').forEach(item=>item.style.strokeDashoffset = 190);\r\n        document.querySelectorAll('.swap3').forEach(item=>item.style.strokeDashoffset = 240);\r\n        document.querySelectorAll('.swap4').forEach(item=>item.style.strokeDashoffset = 295);\r\n        cancelAnimationFrame(this.rid);\r\n        this.rid = null;\r\n        clearTimeout(this.timer)\r\n        clearTimeout(this.timer1)\r\n        this.timer = null;\r\n        this.timer1 = null;\r\n        this.swiperData.forEach(item=>item.status = false);\r\n    },\r\n    mounted() {\r\n        this.setChart();\r\n        this.videoElement = this.$refs.videoElement;\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n.main {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n\r\n    .guideLine {\r\n        width: 100%;\r\n        height: 100%;\r\n\r\n        #textBox_1 {\r\n            opacity: 0;\r\n        }\r\n\r\n        .title_1 {\r\n            font-size: 15px;\r\n            cursor: pointer;\r\n\r\n            .title-text-box {\r\n                background: rgba(0, 0, 0, 0);\r\n                justify-content: center; //子元素水平居中\r\n                align-items: center; //子元素垂直居中\r\n                display: -webkit-flex;\r\n                height: 100%;\r\n\r\n                p {\r\n                    width: 100%;\r\n                    background: rgba(0, 0, 0, 0);\r\n                    color: #A0E8FF;\r\n                    font-size: 15px;\r\n                    text-align: center;\r\n\r\n                    .titleText {\r\n                        margin-left: -5px;\r\n                        font-size: 15px;\r\n                        display: block;\r\n                    }\r\n\r\n                    /deep/ .ivu-rate {\r\n                        font-size: 14px;\r\n\r\n                        .ivu-rate-star {\r\n                            margin-right: 6px;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        .text {\r\n            opacity: 0;\r\n            color: #fff;\r\n            font-size: 15px;\r\n            text-align: center;\r\n\r\n            .text-box {\r\n                background: rgba(0, 0, 0, 0);\r\n                justify-content: center; //子元素水平居中\r\n                align-items: center; //子元素垂直居中\r\n                display: -webkit-flex;\r\n\r\n                .promptBox {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    padding: 10px 20px;\r\n\r\n                    .promptTitle {\r\n                        color: #fff;\r\n                        font-size: 16px;\r\n                        font-weight: bold;\r\n                        margin-bottom: 5px;\r\n                    }\r\n\r\n                    p {\r\n                        background: rgba(0, 0, 0, 0);\r\n                        color: #A0E8FF;\r\n                        font-size: 16px;\r\n                        text-align: left;\r\n                    }\r\n                }\r\n\r\n                .psychologyContent {\r\n                    color: #AFE5FB;\r\n                    font-size: 16px;\r\n                    text-align: left;\r\n\r\n                    div {\r\n                        line-height: 2em;\r\n\r\n                        span {\r\n                            &:first-child {\r\n                                color: #FED723;\r\n                                cursor: pointer;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        .swap1 {\r\n            stroke-dasharray: 130;\r\n            stroke-dashoffset: 130;\r\n        }\r\n\r\n        .swap2 {\r\n            stroke-dasharray: 190;\r\n            stroke-dashoffset: 190;\r\n        }\r\n\r\n        .swap3 {\r\n            stroke-dasharray: 240;\r\n            stroke-dashoffset: 240;\r\n        }\r\n\r\n        .swap4 {\r\n            stroke-dasharray: 295;\r\n            stroke-dashoffset: 295;\r\n        }\r\n\r\n        .circle-point {\r\n            &:hover {\r\n                fill: #000;\r\n            }\r\n        }\r\n\r\n        // .swap4{\r\n        // stroke-dasharray: 110;\r\n        // stroke-dashoffset: 110;\r\n        // }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./center.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./center.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./center.vue?vue&type=template&id=7471b970&scoped=true\"\nimport script from \"./center.vue?vue&type=script&lang=js\"\nexport * from \"./center.vue?vue&type=script&lang=js\"\nimport style0 from \"./center.vue?vue&type=style&index=0&id=7471b970&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7471b970\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}